var e=Object.defineProperty,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,t=(r,o,n)=>o in r?e(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,i=(e,i)=>{for(var u in i||(i={}))o.call(i,u)&&t(e,u,i[u]);if(r)for(var u of r(i))n.call(i,u)&&t(e,u,i[u]);return e};import{n as u,s as a,l as s,o as l,d as c,r as p,a as d,c as f,b as m,t as v,F as g,e as h,f as b,g as y,h as _,i as w}from"./vendor.d8cdf569.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&r(e)})).observe(document,{childList:!0,subtree:!0})}function r(e){if(e.ep)return;e.ep=!0;const r=function(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?r.credentials="include":"anonymous"===e.crossorigin?r.credentials="omit":r.credentials="same-origin",r}(e);fetch(e.href,r)}}();const $={"User-Agent":`kirinbooru v0.0.0 (Autumn Meadow#2864, autumnblazey on GH) from ${navigator.userAgent}`},O=u().int(),j=O.min(0),k=a().url(),A=l({downvotes:j,faves:j,id:O,score:O,source_url:a().url().or(s("")),upvotes:j,view_url:k});l({}),l({}),l({}),l({}),l({}),l({}),l({}),l({}),l({}),l({}),l({}),l({});const L=l({image:A}),P=l({image:A});function x(e,r){return fetch(e,r).then((e=>e.json()))}const N=[[["d","derpi","derpibooru"],"derpibooru.org"],[["f","fur","furbooru"],"furbooru.org"],[["t","trixie","trixiebooru"],"trixiebooru.org"]];function E(e){var r,o;const n=null!=(o=null==(r=N.find((r=>r[0].includes(e))))?void 0:r[1])?o:e;return{domain:n,api_endpoint:`https://${n}/api/v1/json`}}const I=m("div",null,"h",-1),M=["href"],S=["src"],q=c({props:{booru:null},setup(e){const r=e,o=p(0);function n(){o.value++}const t=p(""),u=p(""),a=E(r.booru);return function(e){return x(`${e.api_endpoint}/images/featured`,{headers:i({},$)}).then((e=>P.parse(e)))}(a).then((e=>{t.value=e.image.view_url,u.value=`https://${a.domain}/${e.image.id}`})),(e,r)=>(d(),f(g,null,[I,m("div",{onClick:n},"this is a clickey element with a counter: "+v(o.value),1),m("a",{href:u.value},v(u.value),9,M),m("img",{src:t.value},null,8,S)],64))}});var z=(e,r)=>{const o=e.__vccOpts||e;for(const[n,t]of r)o[n]=t;return o},C=z({},[["render",function(e,r){return" 404 not found lol "}]]);const F=["href"],G=["src"],H=c({props:{booru:null,image_id:null},setup(e){const r=e,o=p(""),n=p(""),t=E(r.booru);return function(e,r){return x(`${e.api_endpoint}/images/${r}`,{headers:i({},$)}).then((e=>L.parse(e)))}(t,r.image_id).then((e=>{o.value=e.image.view_url,n.value=`https://${t.domain}/${e.image.id}`})),(r,t)=>(d(),f(g,null,[m("div",null,"image "+v(e.image_id),1),m("a",{href:n.value},v(n.value),9,F),m("img",{src:o.value},null,8,G)],64))}}),K={path:"/:catchAll(.*)",component:C},U=[{path:"/:booru",component:q,props:!0}],B=[{path:"/:booru/images/:image_id(\\d+)",component:H,props:!0},{path:"/:booru/:image_id(\\d+)",component:H,props:!0}],D=h({history:b(),routes:[K,...U,...B]});w(z({},[["render",function(e,r){const o=y("router-view");return d(),_(o)}]])).use(D).mount("#app");
